from tkinter import *

INST = """                  Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ðº Ð¸Ð³Ñ€Ðµ Â«Squares And CoinsÂ»

    Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ
        WASD Ð¸Ð»Ð¸ ÑÑ‚Ñ€ÐµÐ»ÐºÐ¸ â€” Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð°
        ÐŸÑ€Ð¾Ð±ÐµÐ» â€” Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ Ñ‚ÑƒÑ€Ð±Ð¾-Ñ€ÐµÐ¶Ð¸Ð¼Ð°
        I â€” Ð²Ñ‹Ð·Ð¾Ð² Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸

    Ð¦ÐµÐ»ÑŒ Ð¸Ð³Ñ€Ñ‹
        Ð¡Ð¾Ð±Ñ€Ð°Ñ‚ÑŒ ÐºÐ°Ðº Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¼Ð¾Ð½ÐµÑ‚ Ð·Ð° Ð¾Ñ‚Ð²ÐµÐ´ÐµÐ½Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ, 
            Ð¸Ð·Ð±ÐµÐ³Ð°Ñ ÐºÑ€Ð°ÑÐ½Ð¾Ð³Ð¾ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð° (Ð²Ñ€Ð°Ð³Ð°).

    Ð­Ð»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ Ð¸Ð³Ñ€Ñ‹
        Ð—ÐµÐ»ÐµÐ½Ñ‹Ð¹ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚ â€” Ð²Ð°Ñˆ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶
        ÐšÑ€Ð°ÑÐ½Ñ‹Ð¹ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚ â€” Ð²Ñ€Ð°Ð³, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð¸Ð·Ð±ÐµÐ³Ð°Ñ‚ÑŒ
        Ð¦Ð²ÐµÑ‚Ð½Ñ‹Ðµ ÐºÑ€ÑƒÐ³Ð¸ â€” Ð¼Ð¾Ð½ÐµÑ‚Ñ‹ Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ‚Ð¸Ð¿Ð¾Ð²
        Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ â€” Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ Ð²Ñ€ÐµÐ¼Ñ, ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ 
            Ð¸ ÑÑ‡ÐµÑ‚

    Ð¢Ð¸Ð¿Ñ‹ Ð¼Ð¾Ð½ÐµÑ‚
        Ð–ÐµÐ»Ñ‚Ñ‹Ðµ Ð¼Ð¾Ð½ÐµÑ‚Ñ‹ (+3 Ð¾Ñ‡ÐºÐ°) â€” ÐºÑ€ÑƒÐ¿Ð½Ñ‹Ðµ Ð±Ð¾Ð½ÑƒÑÑ‹
        Ð—ÐµÐ»ÐµÐ½Ñ‹Ðµ Ð¼Ð¾Ð½ÐµÑ‚Ñ‹ (+1 Ð¾Ñ‡ÐºÐ¾) â€” ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ðµ Ð¼Ð¾Ð½ÐµÑ‚Ñ‹
        Ð–Ñ‘Ð»Ñ‚Ñ‹Ðµ, ÑÐ»Ð¸Ð²Ð°ÑŽÑ‰Ð¸ÐµÑÑ Ñ Ñ„Ð¾Ð½Ð¾Ð¼ Ð¼Ð¸Ð½Ñ‹ (-1 Ð¶Ð¸Ð·Ð½ÑŒ) â€” Ð¾Ð¿Ð°ÑÐ½Ñ‹Ðµ Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ñ‹
        Ð¡Ð¸Ð½Ð¸Ðµ Ð¼Ð¾Ð½ÐµÑ‚Ñ‹ (+2 Ð¾Ñ‡ÐºÐ°) â€” ÑÑ€ÐµÐ´Ð½Ð¸Ðµ Ð±Ð¾Ð½ÑƒÑÑ‹
                        ...Ð¼Ð¾Ñ‚Ð°Ð¹Ñ‚Ðµ Ð½Ð¸Ð¶Ðµ...
        Ð‘ÐµÐ»Ñ‹Ðµ Ð¼Ð¾Ð½ÐµÑ‚Ñ‹ (+5 Ð¾Ñ‡ÐºÐ¾Ð²) â€” Ñ€ÐµÐ´ÐºÐ¸Ðµ ÐºÑ€ÑƒÐ¿Ð½Ñ‹Ðµ Ð±Ð¾Ð½ÑƒÑÑ‹

    ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð¸Ð³Ñ€Ñ‹
        Ð¢ÑƒÑ€Ð±Ð¾-Ñ€ÐµÐ¶Ð¸Ð¼ â€” ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÑ‚ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð° Ð¿Ñ€Ð¸ Ð·Ð°Ð¶Ð°Ñ‚Ð¾Ð¼ Ð¿Ñ€Ð¾Ð±ÐµÐ»Ðµ
        ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ â€” ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ Ñ€Ð°ÑÑ‚ÐµÑ‚ Ñ Ð½Ð°Ð±Ð¾Ñ€Ð¾Ð¼ Ð¾Ñ‡ÐºÐ¾Ð²
        Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° ÑƒÑ€Ð¾Ð²Ð½ÐµÐ¹ â€” Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ Ð¿Ñ€Ð¸ Ð½Ð°Ð±Ð¾Ñ€Ðµ 
            Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° Ð¾Ñ‡ÐºÐ¾Ð²
        Ð¢Ð°Ð¹Ð¼ÐµÑ€ â€” Ð¸Ð³Ñ€Ð° Ð·Ð°ÐºÐ°Ð½Ñ‡Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ Ð¸ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸

    Ð¡Ð¾Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾ Ð¸Ð³Ñ€Ðµ
        Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ‚ÑƒÑ€Ð±Ð¾-Ñ€ÐµÐ¶Ð¸Ð¼ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ ÑÐ±Ð¾Ñ€Ð° Ð¼Ð¾Ð½ÐµÑ‚
        Ð˜Ð·Ð±ÐµÐ³Ð°Ð¹Ñ‚Ðµ ÑÑ‚Ð¾Ð»ÐºÐ½Ð¾Ð²ÐµÐ½Ð¸Ñ Ñ ÐºÑ€Ð°ÑÐ½Ñ‹Ð¼ ÐºÐ²Ð°Ð´Ñ€Ð°Ñ‚Ð¾Ð¼
        Ð¡Ð»ÐµÐ´Ð¸Ñ‚Ðµ Ð·Ð° Ð²Ñ€ÐµÐ¼ÐµÐ½ÐµÐ¼ Ð½Ð° Ð²ÐµÑ€Ñ…Ð½ÐµÐ¹ Ð¿Ð°Ð½ÐµÐ»Ð¸
        Ð¡Ð¾Ð±Ð¸Ñ€Ð°Ð¹Ñ‚Ðµ Ð±ÐµÐ»Ñ‹Ðµ Ð¼Ð¾Ð½ÐµÑ‚Ñ‹ Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ Ð½Ð°Ð±Ð¾Ñ€Ð° Ð¾Ñ‡ÐºÐ¾Ð²
        ÐŸÑ€Ð¸ Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¼Ð°Ð½ÐµÐ²Ñ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ð¿ÐµÑ€ÑÐ¾Ð½Ð°Ð¶Ð°

    Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ð¸Ð³Ñ€Ñ‹
        Ð˜Ð³Ñ€Ð° Ð·Ð°ÐºÐ°Ð½Ñ‡Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… ÑÐ»ÑƒÑ‡Ð°ÑÑ…:
        
        Ð˜ÑÑ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
        Ð˜Ð·Ñ‡ÐµÐ·Ð½Ð¾Ð²ÐµÐ½Ð¸Ðµ Ð²ÑÐµÑ… Ð¶Ð¸Ð·Ð½ÐµÐ¹
        ÐÐ°Ð¶Ð°Ñ‚Ð¸Ðµ Ð½Ð° ÐºÑ€ÐµÑÑ‚Ð¸Ðº Ð¾ÐºÐ½Ð°

    Ð”Ð»Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð±ÐµÐ» 
        Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¸Ð³Ñ€Ñ‹"""



def instruction(current_name, current_sound):
    global root, butt_sound, name, sound_volume

    def close():
        global butt_sound, name
        
        if sound_volume.get().__len__() == 1:
            sound_volume2 = 0.1
        elif sound_volume.get().__len__() == 0:
            sound_volume2 = 1.0
        else: 
            if sound_volume.get() == "100":
                sound_volume2 = 1.0
            else:
                sound_volume2 = int(sound_volume.get()[:1]) / 10

        if sound_volume2 >= 1.0:
            sound_volume2 = 1.0
        elif sound_volume2 <= 0.0:
            sound_volume2 = 0.0

        try:
            close.result = {
                'name': name.get(),
                'sound': "ðŸ”Š" if butt_sound["text"] == "ðŸ”Š" else "ðŸ”‡",
                'sound_volume': sound_volume2
            }
        except ValueError:
            close.result = {
                'name': name.get(),
                'sound': "ðŸ”Š" if butt_sound["text"] == "ðŸ”Š" else "ðŸ”‡",
                'sound_volume': 100
            }


        root.destroy()
        root.quit()

    def set_btt_sound():
        global butt_sound
        butt_sound["text"] = "ðŸ”Š" if butt_sound["text"] == "ðŸ”‡" else "ðŸ”‡"

    root = Tk()
    root.protocol("WM_DELETE_WINDOW", close)
    root.geometry("600x570")
    root.title("Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸")    

    app = Frame(root)
    app.grid()

    instruction_text = Text(app)
    instruction_text.insert(0.0, INST)
    instruction_text.grid(column=0, row=0, columnspan=2, rowspan=2)

    Label(app, text="                                                                                     ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸").grid(column=0, sticky="w")
    Label(app, text="\nÐ’Ð°ÑˆÐµ Ð¸Ð¼Ñ (Ð½Ð° Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ): ").grid(sticky="w")

    name = Entry(app)
    name.grid(sticky="w")

  #  Button(app, text="Ð—Ð°Ñ€ÐµÐ³ÐµÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ").grid(sticky="w")

    Label(app, text="\nÐ—Ð²ÑƒÐº: ").grid(sticky="w")
    butt_sound = Button(app, text="ðŸ”Š", command=set_btt_sound)
    butt_sound.grid(sticky="w")

    Label(app, text="Ð“Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚ÑŒ Ð·Ð²ÑƒÐºÐ°:").grid(sticky="w")
    sound_volume = Entry(app)
    sound_volume.grid(sticky="w")

    Button(app, text="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸ Ð²Ñ‹Ð¹Ñ‚Ð¸               ", command=close).grid(sticky=E, column = 1, row = 3)

    root.mainloop()

    if hasattr(close, 'result'):
        current_name = close.result['name']
        current_sound = close.result['sound']
        current_sound_volume = close.result['sound_volume']
 
    return current_name, current_sound, current_sound_volume